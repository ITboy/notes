# Spring Framework学习
## 使用注解还是XML配置

### 官网的观点

### 自己的分析
#### XML的优点

* 修改无需重新编译
* 对象的注入关系与代码本身彻底解耦
* 所有的配置在一起，可以根据项目的层次分类在多个配置文件中
* 对于第三方的包，由于无法修改他的代码，只能使用XML配置

#### XML的缺点

* 配置和修改麻烦，需要改动较多的内容
* 与代码分离，当阅读代码的时候需要频繁的在代码和配置之间切换视角

#### 注解的优点

* 简洁
* 读代码很方便，容易维护

#### 缺点

* 任意改动，需要重新编译打包

#### 取舍

1. 个人更喜欢注解，因为简洁和可维护性，我觉得这是最重要的，另外我也无需考虑如何组织XML文件（需要组织，否则XML的配置会过于臃肿，难于理解和维护，用<import />导入），
2. 对于类似数据源的配置之类的，一定还是要在XML中配置，或在properties文件中配置，否则修改数据源要重新编译，实在无法接收。
3. 当然对于第三方库也只能使用XML配置

## 如何解决对象的循环依赖

A引用B，B也引用A，如果都使用`constructor-arg`来配置，就会报循环异常，可以使用setter注入的方法解决这个问题。
使用`<property>`就是用使用setter方法注入。

## 什么时候使用`constructor-arg`，什么时候使用`property`？

正常情况下，对象的必须属性使用`constructor-arg`, 可选属性使用`property`，然而Spring团队推荐总是使用`constructor-arg`, 因为这样初始化出来的对象就没有null的问题，不需要检查null，但是如果参数很多的时候，构造函数的参数就会很多，这样的代码会很糟糕，所以如果使用`property`，也尽量都给默认值，不要有null。

**这个点子非常好，在对象初始化的时候，为所有的属性赋值，彻底解决空指针的讨厌问题。**